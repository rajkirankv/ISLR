2+3
combn(365, 23)
length(combn(365, 23))
choose(365, 23)
clc
clr
m <- 23
n <- choose(m, 2)
p <- 1/365
x <- m
dbinom(x, n, p)
log(1/2)/log(364/365)
temp1 <- log(1/2)/log(364/365)
23*22/2
temp1 <- 3/365
temp2 <- 1093/365^2
temp2 - temp1
p <- c(0, 1, 0.01)
p
p <- seq(from=0, to=1, by=0.01)
p
p
Hp <- -p*log2(p)-(1-p)*log2(1-p)
Hp
plot(p, Hp)
?replicate
?sample
n <- 100
sample(n)
(1:n)
sample(n) == (1:n)
sum(TRUE, FALSE)
sum(sample(n) == (1:n))
sum(sample(n) == (1:n))
sum(sample(n) == (1:n))
sum(sample(n) == (1:n))
r <- replicate(10^4, sum(sample(n) == (1:n)))
mean(r)
n <- 1
mean(r)
mean(r)
mean(r)
mean(r)
r
mean(r)
exp(-5)
log2(7)
temp <- log2(7)
temp <- log2(6)
temp
log2(5)
rm(list = ls(all=TRUE))
library(MASS)
library(ISLR)
Boston = Boston
View(Boston)
names(Boston)
?Boston
lm_Boston = lm(formula = medv ~ lstat, data = Boston)
lm_Boston
head(Boston)
coef(lm_Boston)
confint(lm_Boston)
lstat_predict <- c(5, 10, 15)
lstat_predict <- data.frame(c(5, 10, 15))
View(lstat_predict)
?predict?
)
?predict
predict(lm_Boston, lstat_predict, interval = 'confidence')
predict(lm_Boston, lstat_predict, interval = "confidence")
predict(lm_Boston, lstat_data, interval = "confidence")
lstat_data <- data.frame(c(5, 10, 15))
predict(lm_Boston, lstat_data, interval = "confidence")
rm(list = ls(all=TRUE))
library(MASS)
library(ISLR)
# fix(Boston)
Boston = Boston
names(Boston)
lm_Boston = lm(formula = medv ~ lstat, data = Boston)
confint(lm_Boston)
lstat_data <- data.frame(c(5, 10, 15))
predict(lm_Boston, lstat_data, interval = "confidence")
attach(Boston)
predict(lm_Boston, lstat_data, interval = "confidence")
?predict?
)
?predict
lm_Boston
predict(lm_Boston, lstat = lstat_data, interval = "confidence")
predict(lm_Boston, newdata = lstat_data, interval = "confidence")
source('~/Documents/Workspace/ISLR/Ch2/ch2.R', echo=TRUE)
detach(Boston)
rm(list = ls(all=TRUE))
library(MASS)
library(ISLR)
# fix(Boston)
Boston = Boston
names(Boston)
lm_Boston = lm(formula = medv ~ lstat, data = Boston)
confint(lm_Boston)
lstat_data <- data.frame(c(5, 10, 15))
predict(lm_Boston, newdata = lstat_data, interval = "confidence")
predict(lm_Boston, data.frame(c(5, 10, 15)), interval = "confidence")
predict(lm_Boston, interval = "confidence")
predict(lm_Boston, 5, interval = "confidence")
predict(lm_Boston, newdata = 5, interval = "confidence")
View(Boston)
lstat_data <- data.frame(lstat = c(5, 10, 15))
View(lstat_data)
predict(lm_Boston, newdata = lstat_data, interval = "confidence")
predict(lm_Boston, newdata = lstat_data, interval = "predict")
predict(lm_Boston, newdata = lstat_data, interval = "prediction")
predict(lm_Boston, newdata = lstat_data, interval = "confidence")
plot(lstat, medv)
abline(lm_Boston)
abline(lm_Boston, color = 'red')
abline(lm_Boston, col = 'red')
abline(lm_Boston, col = 'red')
pairs(Boston)
View(Boston)
par(mfrow=c(2, 2))
plot(lm_Boston)
plot(predict(lm_Boston), residuals(lm_Boston))
par(mfrow=c(1, 1))
plot(predict(lm_Boston), residuals(lm_Boston))
plot(predict(lm_Boston), rstudent(lm_Boston))
plot(hatvalues(lm_Boston))
1/506
which.max(hatvalues(lm_Boston))
Boston[which.max(hatvalues(lm_Boston)), :]
Boston[which.max(hatvalues(lm_Boston))]
Boston[which.max(hatvalues(lm_Boston)), ]
detach(Boston)
detach(Boston)
detach(Boston)
detach(Boston)
names(Boston)
lm_Boston_2 = lm(formula = medv ~ lstat + age, data = Boston)
summary(lm_Boston_2)
lm_Boston_3 = lm(formula = medv ~ ., data = Boston)
summary(lm_Boston_3)
installed.packages()
install.packages('car')
library(car)
update.packages(car)
update.packages('car')
library(car)
vif(lm_Boston_3)
summary(lm_Boston_2)
summary(lm_Boston_3)
vif(lm_Boston_3)
lm_Boston_4 <- lm(formula = medv ~ -tax - rad, data = Boston)
summary(lm_Boston_4)
lm_Boston_4 <- lm(formula = medv ~ . -tax - rad, data = Boston)
summary(lm_Boston_4)
summary(lm_Boston_3)
summary(lm_Boston_3)
summary(lm_Boston_4)
lm_Boston_5 <- lm(formula = medv ~ lstat + I(lstat^2), data = Boston)
summary(lm_Boston_5)
lm_Boston_4
lm_Boston_4 <- lm(formula = medv ~ lstat, data = Boston)
summary(lm_Boston_4)
anova(lm_Boston_4, lm_Boston_5)
par(mfrow = c(2, 2))
plot(lm_Boston_5)
lm_Boston_6 <- lm(formula = medv ~ poly(lstat, 5), data = Boston)
summary(lm_Boston_6)
summary(lm_Boston_5)
summary(lm_Boston_6)
rm(list = ls(all=TRUE))
Carseats = Carseats
View(Carseats)
names(Carseats)
?Carseats
lm_carseats <- lm(data = Carseats, formula = Sales ~ . + Income:Advertising + Price:Age)
lm_carseats <- lm(data = Carseats, formula = Sales ~ . + Income:Advertising + Price:Age)
summary(lm_carseats)
?contrasts
contrasts(Carseats$ShelveLoc)
getwd()
getwd()
setwd("~/Documents/Workspace/ISLR/Ch2")
getwd()
setwd("~/Documents/Workspace/ISLR/ISLR/Ch2")
rm(list = ls(all=TRUE))
Auto <- Auto
names(Auto)
lm_auto <- lm(data = Auto, formula = mpg ~ horsepower)
summary(lm_auto)
plot(lm_auto)
plot(data=Auto, horsepower, mpg)
attach(Auto)
plot(horsepower, mpg)
detach(Auto)
abline(lm_auto)
attach(Auto)
par(mfrow=c(1, 1))
plot(horsepower, mpg)
detach(Auto)
abline(lm_auto)
attach(Auto)
par(mfrow=c(1, 1))
plot(horsepower, mpg)
detach(Auto)
abline(lm_auto, col='red')
summary(lm_auto)
predict(lm_auto, newdata = horsepower_data, interval = 'confidence')
horsepower_data = data.frame(horsepower = c(98))
predict(lm_auto, newdata = horsepower_data, interval = 'confidence')
predict(lm_auto, newdata = horsepower_data, interval = 'prediction')
plot(lm_auto)
par(mfrow=c(2, 2))
plot(lm_auto)
par(mfrow=c(1, 1))
pairs(Auto)
head(Auto)
union(Auto$name)
unique(Auto$name)
Auto[1:-1, ]
Auto[:-1, ]
ncol(Auto)
Auto[, -"name"]
Auto[, -c('name')]
Auto[, 1]
Auto[, "name"]
Auto[, -"name"]
Auto[, -("name")]
Auto[, -c("name")]
names(Auto)
Auto[, 'name']
Auto[, c('name', 'year']
Auto[, c('name', 'year')]
Auto[, -c('name', 'year')]
Auto[, -which(names(Auto) == c('name', 'year')]
Auto[, -which(names(Auto) == 'name']
Auto[, -which(names(Auto) == 'name')]
Auto[, -which(names(Auto) == 'name')]
any(names(Auto) == c('name', 'year'))
Auto[, -which(names(Auto) == 'name')]
cor(Auto[, -which(names(Auto) == 'name')])
cor_auto <- cor(Auto[, -which(names(Auto) == 'name')])
View(cor_auto)
lm_auto_mult <- lm(data = Auto, formula = mpg ~ . - name)
lm_auto_mult <- lm(data = Auto, formula = mpg ~ . - name)
summary(lm_auto_mult)
summary(lm_auto_mult)
par(mfrow=c(2,2))
plot(lm_auto_mult)
par(mfrow=c(1,1))
detach()
detach()
detach()
detach()
detach()
lm_auto_mult_int <- lm(data = Auto, formula = mpg ~ . - name + displacement:horsepower)
